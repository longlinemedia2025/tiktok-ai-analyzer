<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TikTok, YouTube & Instagram Viral Optimizer</title>

  <style>
    /* ---------- Base Page Styles ---------- */
    body {
      font-family: "Inter", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: #0b0b0b;
      color: #f5f5f5;
      text-align: center;
      padding: 40px;
      margin: 0;
      overflow-y: auto;
      transition: background 1s ease-in-out, color 0.6s;
    }

    #logo {
      width: 110px;
      margin-bottom: 20px;
      filter: drop-shadow(0 0 15px rgba(255,255,255,0.3));
    }

    h1 {
      font-size: 2.2rem;
      margin-bottom: 1.5rem;
      color: #00f2ea;
      text-shadow: 0 0 8px rgba(0,242,234,0.6);
    }

    .upload-container {
      border: 2px dashed #333;
      border-radius: 16px;
      padding: 30px;
      margin: 20px auto;
      width: 80%;
      max-width: 600px;
      background-color: rgba(20,20,20,0.9);
      transition: all 0.3s ease-in-out;
    }

    .upload-container:hover {
      border-color: #00f2ea;
      background-color: #1c1c1c;
    }

    input[type="file"] { display: none; }

    label {
      cursor: pointer;
      color: #00f2ea;
      font-weight: bold;
    }

    button {
      background-color: #00f2ea;
      border: none;
      color: #fff;
      padding: 14px 28px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      margin-top: 25px;
      box-shadow: 0 0 10px rgba(0,242,234,0.4);
    }

    select {
      background-color: #141414;
      color: #fff;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 8px 12px;
    }

    #results {
      margin-top: 30px;
      white-space: pre-wrap;
      background-color: #141414;
      border-radius: 14px;
      padding: 25px;
      width: 85%;
      max-width: 780px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
      line-height: 1.7;
      box-shadow: 0 0 20px rgba(0,242,234,0.15);
    }

    /* ---------- Gooey Background ---------- */
    #gooey-bg {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      overflow: hidden;
    }

    svg {
      width: 100%;
      height: 100%;
      filter: url(#goo);
    }

    .blob {
      fill: url(#grad1);
      opacity: 0.8;
      animation: drift 60s ease-in-out infinite;
      transform-origin: center;
    }

    @keyframes drift {
      0%   { transform: translate(0, 0) scale(1); }
      25%  { transform: translate(50px, -30px) scale(1.05); }
      50%  { transform: translate(-60px, 50px) scale(0.95); }
      75%  { transform: translate(40px, 40px) scale(1.1); }
      100% { transform: translate(0, 0) scale(1); }
    }

    /* ---------- Theme Variants ---------- */
    body.youtube-mode h1 { color: #ff0000; text-shadow: 0 0 8px rgba(255,0,0,0.6); }
    body.instagram-mode h1 { color: #feda75; text-shadow: 0 0 8px rgba(246,128,56,0.45); }
  </style>
</head>

<body class="tiktok-mode">
  <!-- Gooey SVG Background -->
  <div id="gooey-bg">
    <svg viewBox="0 0 1000 800" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
      <defs>
        <filter id="goo">
          <feGaussianBlur in="SourceGraphic" stdDeviation="40" result="blur" />
          <feColorMatrix in="blur" mode="matrix"
            values="1 0 0 0 0
                    0 1 0 0 0
                    0 0 1 0 0
                    0 0 0 25 -10" result="goo" />
          <feBlend in="SourceGraphic" in2="goo" />
        </filter>

        <radialGradient id="grad1" cx="50%" cy="50%" r="75%">
          <stop offset="0%" stop-color="#ff0050" />
          <stop offset="100%" stop-color="#00f2ea" />
        </radialGradient>
      </defs>

      <g filter="url(#goo)">
        <!-- 15 Separated Blobs -->
        <circle class="blob" cx="100" cy="200" r="100"></circle>
        <circle class="blob" cx="250" cy="100" r="120"></circle>
        <circle class="blob" cx="400" cy="250" r="110"></circle>
        <circle class="blob" cx="550" cy="150" r="100"></circle>
        <circle class="blob" cx="700" cy="300" r="130"></circle>
        <circle class="blob" cx="850" cy="180" r="90"></circle>
        <circle class="blob" cx="150" cy="500" r="120"></circle>
        <circle class="blob" cx="300" cy="650" r="110"></circle>
        <circle class="blob" cx="500" cy="550" r="100"></circle>
        <circle class="blob" cx="700" cy="600" r="120"></circle>
        <circle class="blob" cx="900" cy="450" r="100"></circle>
        <circle class="blob" cx="200" cy="350" r="90"></circle>
        <circle class="blob" cx="450" cy="400" r="130"></circle>
        <circle class="blob" cx="600" cy="500" r="100"></circle>
        <circle class="blob" cx="850" cy="650" r="120"></circle>
      </g>
    </svg>
  </div>

  <!-- Main Content -->
  <img src="/static/Longlinemedialogotransparent.png" alt="LongLine Media Logo" id="logo">
  <h1>ðŸŽ¬ TikTok, YouTube & Instagram Viral Optimizer</h1>

  <div>
    <label for="platform">Select Platform:</label><br />
    <select id="platform">
      <option value="TikTok">TikTok</option>
      <option value="YouTube">YouTube</option>
      <option value="Instagram">Instagram</option>
    </select>
  </div>

  <div class="upload-container">
    <p>ðŸŽ¬ Drag and drop your video here or click to upload</p>
    <input type="file" id="video" accept="video/*" />
    <label for="video">Choose a video</label>
    <p id="video-filename"></p>
  </div>

  <div class="upload-container">
    <p>ðŸ“„ Upload your CSV data (optional)</p>
    <input type="file" id="csv" accept=".csv" />
    <label for="csv">Choose a CSV</label>
    <p id="csv-filename"></p>
  </div>

  <button id="analyze-btn">Analyze</button>
  <div id="results"></div>
  <button id="reset-btn" style="display:none;">ðŸ”„ New Analysis</button>

  <script>
    const platformSelect = document.getElementById("platform");
    const body = document.body;
    const blobs = document.querySelectorAll(".blob");

    // Gentle parallax drift
    document.addEventListener("mousemove", (e) => {
      const x = (e.clientX / window.innerWidth - 0.5) * 40;
      const y = (e.clientY / window.innerHeight - 0.5) * 40;
      blobs.forEach((blob, i) => {
        const offset = (i % 5) * 10;
        blob.style.transform = `translate(${x * ((i+1)/20)}px, ${y * ((i+1)/20)}px) rotate(${offset}deg)`;
      });
    });

    // Randomized drift to make each blob move separately
    blobs.forEach((blob, i) => {
      const duration = 50 + Math.random() * 40;
      const delay = Math.random() * 20;
      blob.style.animation = `drift ${duration}s ease-in-out ${delay}s infinite alternate`;
    });

    // Platform color gradient switching
    platformSelect.addEventListener("change", () => {
      const val = platformSelect.value.toLowerCase();
      body.classList.remove("tiktok-mode", "youtube-mode", "instagram-mode");
      body.classList.add(val + "-mode");
      const grad = document.getElementById("grad1");
      if (val === "tiktok") {
        grad.children[0].setAttribute("stop-color", "#ff0050");
        grad.children[1].setAttribute("stop-color", "#00f2ea");
      } else if (val === "youtube") {
        grad.children[0].setAttribute("stop-color", "#ff0000");
        grad.children[1].setAttribute("stop-color", "#ff8080");
      } else if (val === "instagram") {
        grad.children[0].setAttribute("stop-color", "#feda75");
        grad.children[1].setAttribute("stop-color", "#d62976");
      }
    });
  </script>
</body>
</html>
