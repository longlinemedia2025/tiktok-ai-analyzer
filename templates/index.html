<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Viral Video Optimizer</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="tiktok-mode">
  <!-- Liquid Animated Background -->
  <div class="liquid-bg">
    <div class="blob"></div>
    <div class="blob"></div>
    <div class="blob"></div>
  </div>

  <div class="container">
    <img src="/static/Longlinemedialogotransparent.png" alt="LongLine Media Logo" class="logo" />

    <h1>ðŸŽ¬ Viral Video Optimizer</h1>

    <div class="platform-switch">
      <label for="platform">Select Platform:</label><br>
      <select id="platform">
        <option value="TikTok">TikTok</option>
        <option value="YouTube">YouTube</option>
        <option value="Instagram">Instagram</option>
      </select>
    </div>

    <div class="upload-container" id="video-dropzone">
      <p>ðŸŽ¥ Drag and drop your video here or click below:</p>
      <input type="file" id="video" accept="video/*" />
      <label for="video">Choose Video</label>
      <p id="video-filename"></p>
    </div>

    <div class="upload-container" id="csv-dropzone">
      <p>ðŸ“„ Upload your CSV data (optional)</p>
      <input type="file" id="csv" accept=".csv" />
      <label for="csv">Choose CSV</label>
      <p id="csv-filename"></p>
    </div>

    <button id="analyze-btn">Analyze</button>

    <div class="loader" id="loader">
      <div class="loading-bar"></div>
      <p id="loader-text">Initializing AI analysis...</p>
    </div>

    <div id="results"></div>
  </div>

  <script>
    const platformSelect = document.getElementById("platform");
    const body = document.body;

    platformSelect.addEventListener("change", () => {
      body.classList.remove("tiktok-mode", "youtube-mode", "instagram-mode");
      const mode = platformSelect.value.toLowerCase();
      body.classList.add(`${mode}-mode`);
    });

    const videoInput = document.getElementById("video");
    const csvInput = document.getElementById("csv");
    const videoFilename = document.getElementById("video-filename");
    const csvFilename = document.getElementById("csv-filename");

    videoInput.addEventListener("change", () => {
      videoFilename.textContent = videoInput.files[0] ? `Uploaded: ${videoInput.files[0].name}` : "";
    });

    csvInput.addEventListener("change", () => {
      csvFilename.textContent = csvInput.files[0] ? `Uploaded: ${csvInput.files[0].name}` : "";
    });
  </script>
</body>
</html>
